<section class="dashboard">

  <div class="navigation-row">
    <div class="item">
      <button mdTooltip="Add task" md-mini-fab class="add-task-button" (click)="openAddTaskDialog()">
        <i class="material-icons">add</i>
      </button>
    </div>
    <div class="item">
      <button mdTooltip="Save" md-mini-fab class="save-task-button" (click)="saveTasks()">
        <i class="material-icons">save</i>
      </button>
    </div>
  </div>

  <div class="lists-row">
    <!-- To do -->
    <div class="column" dnd-sortable-container [dropZones]="['all-tasks']" [sortableData]="todoList">
      <div class="column-title">
        Todo
      </div>

      <div>
      <md-card (click)="openAddTaskDialog()" *ngFor="let item of todoList; let i = index" dnd-sortable [sortableIndex]="i"
               [style.border-left]="'5px solid '+item.color" >
        <md-card-header>
          <md-card-title>{{item.title}}</md-card-title>
          <md-card-subtitle>{{item.description}}</md-card-subtitle>
        </md-card-header>
        <md-card-footer>
          <span *ngIf="item.deadline">{{item.deadline | date:"shortDate"}}</span>
          <span *ngIf="!item.deadline">no deadline</span>
        </md-card-footer>
      </md-card>

      <div *ngIf="todoList.length === 0" class="no-tasks">No tasks here</div>
      </div>
    </div> <!-- /To do -->

    <!-- In progress-->
    <div class="column" dnd-sortable-container [dropZones]="['all-tasks']" [sortableData]="inProgressList">
      <div class="column-title">
        In progress
      </div>

      <md-card *ngFor="let item of inProgressList; let i = index" dnd-sortable [sortableIndex]="i"
               [style.border-left]="'5px solid '+item.color">
        <md-card-header>
          <md-card-title>{{item.title}}</md-card-title>
          <md-card-subtitle>{{item.description}}</md-card-subtitle>
        </md-card-header>
        <md-card-footer>
          <span *ngIf="item.deadline">{{item.deadline | date:"shortDate"}}</span>
          <span *ngIf="!item.deadline">no deadline</span>
        </md-card-footer>
      </md-card>

      <div *ngIf="inProgressList.length === 0" class="no-tasks">No tasks here</div>

    </div> <!-- /In progress -->

    <!-- Done -->
    <div class="column" dnd-sortable-container [dropZones]="['all-tasks']" [sortableData]="doneList">
      <div class="column-title">
        Done
      </div>

      <md-card *ngFor="let item of doneList; let i = index" dnd-sortable [sortableIndex]="i"
               [style.border-left]="'5px solid '+item.color">
        <md-card-header>
          <md-card-title>{{item.title}}</md-card-title>
          <md-card-subtitle>{{item.description}}</md-card-subtitle>
        </md-card-header>
        <md-card-footer>
          <span *ngIf="item.deadline">{{item.deadline | date:"shortDate"}}</span>
          <span *ngIf="!item.deadline">no deadline</span>
        </md-card-footer>
      </md-card>

      <div *ngIf="doneList.length === 0" class="no-tasks">No tasks here</div>

    </div> <!-- /Done -->
  </div>

</section>
